CREATE TABLE filme(sender VARCHAR, thema VARCHAR, titel VARCHAR, datum VARCHAR, zeit VARCHAR, dauer VARCHAR, mb VARCHAR, beschreibung VARCHAR, url VARCHAR, website VARCHAR, captions VARCHAR, urlRtmp VARCHAR, urlLD VARCHAR, urlRtmpLD VARCHAR, urlHD VARCHAR, urlRtmpHD VARCHAR, datumL VARCHAR, urlHistory VARCHAR, geo VARCHAR, neu VARCHAR);
CREATE TABLE "import"(createdAt TIMESTAMP, "local" TIMESTAMP, utc TIMESTAMP, nr VARCHAR, "version" VARCHAR, hash VARCHAR, etag VARCHAR, id INTEGER DEFAULT(nextval('import_sequence')) PRIMARY KEY);
CREATE TABLE urls(url VARCHAR PRIMARY KEY, id INTEGER DEFAULT(nextval('filme_sequence')), created_at TIMESTAMP, deleted_at TIMESTAMP);
CREATE VIEW filme_v AS SELECT last(sender IGNORE NULLS) OVER (ORDER BY f.rowid) AS sender, last(thema IGNORE NULLS) OVER (ORDER BY f.rowid) AS thema, try_strptime(((datum || ' ') || COALESCE(zeit, '')), main.list_value('%d.%m.%Y %H:%M:%S', '%d.%m.%Y %H:%M', '%d.%m.%Y')) AS datumzeit, dauer, CAST(mb AS INTEGER) AS mb, beschreibung, f.url, website, captions, urlRtmp, urlLD, urlHD, CAST(datumL AS BIGINT) AS datumL, urlHistory, geo, u.id FROM duck.main.filme AS f LEFT JOIN urls AS u ON ((f.url = u.url));
CREATE VIEW schema_v AS SELECT typ, "name", "sql" FROM ((((SELECT 'table' AS typ, table_name AS "name", "sql", database_name FROM duckdb_tables()) UNION ALL (SELECT 'view' AS typ, view_name AS "name", "sql", database_name FROM duckdb_views())) UNION ALL (SELECT 'sequence' AS typ, sequence_name AS "name", "sql", database_name FROM duckdb_sequences())) UNION ALL (SELECT 'index' AS typ, index_name AS "name", "sql", database_name FROM duckdb_indexes())) WHERE (database_name = 'duck');
CREATE SEQUENCE filme_sequence INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 681503 NO CYCLE;
CREATE SEQUENCE import_sequence INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 20 NO CYCLE;
